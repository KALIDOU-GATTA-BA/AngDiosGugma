{% extends 'base.html.twig' %}
{% block title %}Actualities{% endblock %}
{% block body %}
  <style>
  .mySlides {display:none}
    body{ 
        background: url('{{  asset ('images/jesus2.jpg') }}'); 
            background-repeat: no-repeat;
            background-size: 100% 100%;
            background-position: center;
            overflow-x: hidden; 
            display: flex;
            min-height: 100vh;
            flex-direction: column;
            background-color:#FFF;          
        }
        @media screen and (max-width: 600px) {
    
        body{
           background: url('{{  asset ('images/jesus2.jpg') }}'); 
            background-repeat: no-repeat;
            background-size: 100% 85%;
            background-position: center;
            overflow-x: hidden; 
            display: flex;
            min-height: 100vh;
            flex-direction: column;
            background-color:#FFF;  
  }
  }
</style> 
  {%if buffer==1 %}
      <span>Hi <mark>{{user}}</mark>  <i class="fa fa-smile-o" style="font-size:48px;color:red"></i>
<br> You can log out <a href="{{path('security_logout')}}"><mark style='color:white; background-color:red'><em> >>here</em></mark></a></span>
  {% endif %}
<div style="weight:100%">
  <nobr style=''><button type="submit" style='font-size:12px'><a href="{{path('recap_actualities_anchor')}}">Anchor</a></button>
  <button type="submit" style='font-size:12px' ><a href="{{path('recap_actualities_dailyGospels')}}">Daily gospels</a></button> <button type="submit" style='font-size:12px' ><a href="{{path('recap_actualities_st_of_day')}}">Saints of the day</a></button><br>
  <button type="submit" style='font-size:12px'><a href="{{path('recap_actualities_radio_prog')}}">Radio program</a></button>
  <button type="submit" style='font-size:12px'><a href="{{path('recap_actualities_tv_prog')}}">TV program</a></button>
  <button type="submit" style='font-size:12px'><a href="{{path('recap_actualities_uyas')}}">Uyas</a></button></nobr>

</div>
<div class="w3-content" style="max-width:800px">
  <div style="padding-left:12px;padding-right:12px;padding-bottom:12px;padding-top:12px;font: italic  15px/30px Georgia, serif">   
    <section>
    {% if app.user %}
        <span>
          <a href="{{path('actualities')}}" class="nav-link"  style="color:red;font-size:15px; font-weight:bold"><< Go to articles management</a> 
        </span> 
    {% endif %}
      {% for article in articles %}
        <article class='mySlides'> 
          <h1 style="text-align:center"> {{article.title}} </h1>
            <div>                           
                <img id ="img" src="{{  asset ('uploads/') }}{{article.id}}/image" style="height:100%;width:100%">
            </div>
            <div style ="text-align:justify">
              {{article.content}}
            </div><br>  
            <p style="color:black; text-decoration:underline">{{article.author}} </p>
          <form action='{{path('comment_actu')}}' method='GET'>
              <input type ="text" style='opacity:0' value='{{article.id}}' name="val">
              <input type="submit" style='background-color:#503a2c;color:white;font-style:italic' value='+comment' ><i class="fa fa-comment fa-spin" style='color:red;height:20px'></i>
            </form>
        </article>
      {% endfor %}
    </section>

    {% if app.user %}
      <span>
        <a href="{{path('actualities')}}" class="nav-link"  style="color:white;font-size:15px; font-weight:bold"><mark>Post a new article</mark></a>
      </span> 
    {% endif %}
  </div>  
</div>

<div class="w3-center">
  <div class="w3-section">
    <button class="w3-button w3-light-grey" onclick="plusDivs(-1)">❮ Prev</button>
    <button class="w3-button w3-light-grey" onclick="plusDivs(1)">Next ❯</button>
  </div>
  {% for i in 1..paginationAnchor %}
    <button class="w3-button demo" onclick="currentDiv({{ i }})">{{ i }}</button>
  {% endfor %}
</div>

{% block javascript %}
  <script src={{ asset("build/app.js") }}></script>
  <script>
var slideIndex = 1;
showDivs(slideIndex);

function plusDivs(n) {
  showDivs(slideIndex += n);
}

function currentDiv(n) {
  showDivs(slideIndex = n);
}

function showDivs(n) {
  var i;
  var x = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("demo");
  if (n > x.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = x.length}
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";  
  }
  for (i = 0; i < dots.length; i++) {
    dots[i].className = dots[i].className.replace(" w3-red", "");
  }
  x[slideIndex-1].style.display = "block";  
  dots[slideIndex-1].className += " w3-red";
}
</script>
{% endblock %}
{% endblock %}
